
# Default values for telegraf.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

# Used as a tag in all scraped metrics
env: dev
debug: true

topics:
  context: {} # when unset, the below values are generated from the release name
    #topicName: "context-data"
  rawMetrics:
    #topicName: "raw-metrics" # if unset, the topic name is generated from the release name
    partitions: 3
    # default: 90 days retention
    retentionMs: "7776000000"
  pricingRules:
    #topicName: "pricing-rules" # if unset, the topic name is generated from the release name
    partitions: 1
  aggregated: # TODO: read this from global values
    #topicName: "aggregated" # if unset, the topic name is generated from the release name
    partitions: 1
    config:
      retentionMs: "7776000000"
  aggregatedTableFriendly: # TODO: read this from global values
    #topicName: "aggregated-table-friendly" # if unset, the topic name is generated from the release name
    partitions: 1
    config:
      retentionMs: "7776000000"
  # list of raw metrics topics that should be consumed by the aggregator.
  # If empty, the aggregator will consume the topic defined in the rawMetrics section
  toAggregate: []

strimzi:
  clusterName: my-cluster
  bootstrapServer: my-cluster-kafka-bootstrap:9094
  # "scram-sha-512" or "tls" or "none"
  auth: scram-sha-512
  contextOperator:
    livenessProbe:
      initialDelaySeconds: 30
      periodSeconds: 10
      failureThreshold: 5
    readinessProbe:
      initialDelaySeconds: 15
      periodSeconds: 10
      failureThreshold: 5
    startupProbe:
      initialDelaySeconds: 15
      periodSeconds: 10
      failureThreshold: 10
    resources:
      limits:
        cpu: 1
        memory: 1Gi
      requests:
        cpu: 100m
        memory: 128Mi

schemaRegistry:
    url: http://schema-registry:8080/apis/ccompat/v7

aggregator:
  enabled: true
  appId: kcc-aggregator
  volumeClaimTemplate:
    resources:
      requests:
        storage: 1Gi

connect:
  enabled: true
